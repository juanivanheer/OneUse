<div fxLayout="row" fxFlexFill>
  <div fxLayout fxFlexOrder="1" ngClass.lt-lg="toolbar-div-lt-md">
    <app-barra-lateral></app-barra-lateral>
  </div>

  <div fxLayout="column" style="width:100%" fxFlexOrder="2" fxLayoutAlign="center center" fxLayout.lt-lg="column"
    fxLayoutAlign.lt-lg="center center" ngClass.gt-md="container-gt-md mat-elevation-z8"
    ngClass.lt-md="container-lt-md mat-elevation-z8">
    <div fxLayout="column" style="width: 100%; text-align: center; margin-top: 40px;" fxLayoutAlign="center center">
      <p style="font-size: 25px;margin-bottom: 25px;">Mis estadísticas</p>
      <mat-divider style="width:100%;"></mat-divider>
    </div>
    <mat-tab-group dynamicHeight class="contenedorDeDatos" (selectedTabChange)="cambioTab($event)" style="height: 100%;width: 100%;">
      <mat-tab>
        <div fxHide.lt-lg="true">
          <ng-template mat-tab-label>
            <mat-icon class="iconitos">check_circle</mat-icon>
            Cantidad de visitas a tus publicaciones
          </ng-template>
        </div>
        <div fxLayout="column" fxLayoutAlign="center center">
          <div style="width: 300px; margin-top: 15px;" *ngIf="publicaciones.length > 0">
            <mat-form-field>
              <mat-label>Publicación</mat-label>
              <mat-select>
                <mat-option #dropdown *ngFor="let p of publicaciones"
                  (onSelectionChange)="cargarDatos(p._id, p.titulo)">
                  {{ p.titulo }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div fxFlexFill fxFlexAlign="center" *ngIf="!hayPublicaciones">
            <h3>No hay estadísticas correspondientes a la publicación seleccionada</h3>
          </div>
        </div>
        <div fxLayout="column" fxLayoutAlign="center center" style="margin-bottom: 30px;" *ngIf="hayPublicaciones">
          <fusioncharts width="700" height="400" type="Column2d" [dataSource]="dataSource"></fusioncharts>
        </div>
      </mat-tab>

      <mat-tab>
        <div fxHide.lt-lg="true">
          <ng-template mat-tab-label>
            <mat-icon class="iconitos">cancel</mat-icon>
            Otras Estadísticas
          </ng-template>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>